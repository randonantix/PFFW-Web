<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PF Firewall: src/View/lib/stats.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PF Firewall<span id="projectnumber">&#160;7.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('lib_2stats_8php.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">stats.php File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="lib_2stats_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7d58cc793635ff6f9b214dd8cbb1d568"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2stats_8php.html#a7d58cc793635ff6f9b214dd8cbb1d568">PrintModalPieChart</a> ()</td></tr>
<tr class="memdesc:a7d58cc793635ff6f9b214dd8cbb1d568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints pie chart on a modal.  <br /></td></tr>
<tr class="separator:a7d58cc793635ff6f9b214dd8cbb1d568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc17fec78425e82407dcaa0f0d91694c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2stats_8php.html#adc17fec78425e82407dcaa0f0d91694c">DisplayChartTriggers</a> ()</td></tr>
<tr class="memdesc:adc17fec78425e82407dcaa0f0d91694c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays chart trigger images.  <br /></td></tr>
<tr class="separator:adc17fec78425e82407dcaa0f0d91694c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab2bd89b86acfa12bc53a9bc0e40f20fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2stats_8php.html#ab2bd89b86acfa12bc53a9bc0e40f20fa">$StatsWarningMsg</a> = <a class="el" href="view_8php.html#a4aa5270b4a28926a0ea160561a3ba51f">_NOTICE</a>('Analysis of statistical data may take a long time to process. Please be patient. Also note that <a class="el" href="ctlr_8php.html#abc2baa6b327386720a46de43cf272921">if</a> you refresh this page frequently, CPU <a class="el" href="tools_8inc.html#a585c262d16bad21a05af8804df8372b2">load</a> may increase considerably.')</td></tr>
<tr class="memdesc:ab2bd89b86acfa12bc53a9bc0e40f20fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stats page warning message.  <br /></td></tr>
<tr class="separator:ab2bd89b86acfa12bc53a9bc0e40f20fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25c43be2349a68251baec561458f902"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2stats_8php.html#aa25c43be2349a68251baec561458f902">$StatsHelpMsg</a></td></tr>
<tr class="memdesc:aa25c43be2349a68251baec561458f902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main help box used on all statistics pages.  <br /></td></tr>
<tr class="separator:aa25c43be2349a68251baec561458f902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3721afc9816a0572176f35b69fd9a5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2stats_8php.html#ad3721afc9816a0572176f35b69fd9a5b">$Submenu</a> = <a class="el" href="libauth_8php.html#aedf527ce631be6f841d63bc1b01a6c35">SetSubmenu</a>('general')</td></tr>
<tr class="separator:ad3721afc9816a0572176f35b69fd9a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="adc17fec78425e82407dcaa0f0d91694c" name="adc17fec78425e82407dcaa0f0d91694c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc17fec78425e82407dcaa0f0d91694c">&#9670;&#160;</a></span>DisplayChartTriggers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DisplayChartTriggers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Displays chart trigger images. </p>
<p>These images are initially hidden, we enable them using this JavaScript code. So that if JavaScript is disabled, we don't show the triggers at all. Pie charts need JavaScript being enabled.</p>
<dl class="section attention"><dt>Attention</dt><dd>This function should be called at the end of the page, after the PHP code inserts the hidden images. </dd></dl>

<p class="definition">Definition at line <a class="el" href="lib_2stats_8php_source.html#l00177">177</a> of file <a class="el" href="lib_2stats_8php_source.html">stats.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  178</span>{</div>
<div class="line"><span class="lineno">  179</span>    ?&gt;</div>
<div class="line"><span class="lineno">  180</span>    &lt;script language=<span class="stringliteral">&quot;javascript&quot;</span> type=<span class="stringliteral">&quot;text/javascript&quot;</span>&gt;</div>
<div class="line"><span class="lineno">  181</span>        var trigs = document.getElementsByClassName(<span class="stringliteral">&#39;chart-trigger&#39;</span>);</div>
<div class="line"><span class="lineno">  182</span>        <span class="keywordflow">for</span> (var j = 0; j &lt; trigs.length; ++j) {</div>
<div class="line"><span class="lineno">  183</span>            trigs[j].style.display = <span class="stringliteral">&#39;inline&#39;</span>;</div>
<div class="line"><span class="lineno">  184</span>        }</div>
<div class="line"><span class="lineno">  185</span>    &lt;/script&gt;</div>
<div class="line"><span class="lineno">  186</span>    &lt;?php</div>
<div class="line"><span class="lineno">  187</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d58cc793635ff6f9b214dd8cbb1d568" name="a7d58cc793635ff6f9b214dd8cbb1d568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d58cc793635ff6f9b214dd8cbb1d568">&#9670;&#160;</a></span>PrintModalPieChart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PrintModalPieChart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints pie chart on a modal. </p>

<p class="definition">Definition at line <a class="el" href="lib_2stats_8php_source.html#l00024">24</a> of file <a class="el" href="lib_2stats_8php_source.html">stats.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>{</div>
<div class="line"><span class="lineno">   26</span>    ?&gt;</div>
<div class="line"><span class="lineno">   27</span>    &lt;!-- The Modal --&gt;</div>
<div class="line"><span class="lineno">   28</span>    &lt;div <span class="keywordtype">id</span>=<span class="stringliteral">&quot;modalPieChart&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;modal&quot;</span>&gt;</div>
<div class="line"><span class="lineno">   29</span>        &lt;!-- The Close Button --&gt;</div>
<div class="line"><span class="lineno">   30</span>        &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;close&quot;</span>&gt;&amp;times;&lt;/span&gt;</div>
<div class="line"><span class="lineno">   31</span>    &lt;/div&gt;</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>    &lt;!-- The Pie Slice Tooltip --&gt;</div>
<div class="line"><span class="lineno">   34</span>    &lt;div <span class="keywordtype">id</span>=<span class="stringliteral">&quot;slicetip&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;hidden&quot;</span>&gt;</div>
<div class="line"><span class="lineno">   35</span>        &lt;p&gt;&lt;strong&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;title&quot;</span>&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;</div>
<div class="line"><span class="lineno">   36</span>        &lt;p&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;key&quot;</span>&gt;&lt;/span&gt;&lt;/p&gt;</div>
<div class="line"><span class="lineno">   37</span>        &lt;p&gt;&lt;span <span class="keywordtype">id</span>=<span class="stringliteral">&quot;value&quot;</span>&gt;&lt;/span&gt;&lt;/p&gt;</div>
<div class="line"><span class="lineno">   38</span>    &lt;/div&gt;</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    &lt;script type=<span class="stringliteral">&quot;text/javascript&quot;</span> src=<span class="stringliteral">&quot;../lib/d3.min.js&quot;</span>&gt;&lt;/script&gt;</div>
<div class="line"><span class="lineno">   41</span>    &lt;script language=<span class="stringliteral">&quot;javascript&quot;</span> type=<span class="stringliteral">&quot;text/javascript&quot;</span>&gt;</div>
<div class="line"><span class="lineno">   42</span>        <span class="comment">// Get the modal</span></div>
<div class="line"><span class="lineno">   43</span>        var modal = document.getElementById(<span class="stringliteral">&#39;modalPieChart&#39;</span>);</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>        var slicetip = d3.select(<span class="stringliteral">&#39;#slicetip&#39;</span>);</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>        <span class="keyword">function</span> generateChart(dataset, title) {</div>
<div class="line"><span class="lineno">   48</span>            modal.style.display = <span class="stringliteral">&#39;block&#39;</span>;</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>            var keys = Object.keys(dataset);</div>
<div class="line"><span class="lineno">   51</span>            var values = Object.values(dataset);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>            var dataSum = d3.sum(values);</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>            <span class="comment">// Use index to get key from dataset to display it on slicetip</span></div>
<div class="line"><span class="lineno">   56</span>            <span class="comment">// {key =&gt; {index =&gt; value}}</span></div>
<div class="line"><span class="lineno">   57</span>            var chartDataset = {};</div>
<div class="line"><span class="lineno">   58</span>            var curSum = 0;</div>
<div class="line"><span class="lineno">   59</span>            <span class="keywordflow">for</span> (var j = 0; j &lt; keys.length; ++j) {</div>
<div class="line"><span class="lineno">   60</span>                <span class="keywordflow">if</span> (j &gt; 10) {</div>
<div class="line"><span class="lineno">   61</span>                    chartDataset[<span class="stringliteral">&#39;others&#39;</span>] = {index: j, value: dataSum - curSum};</div>
<div class="line"><span class="lineno">   62</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   63</span>                }</div>
<div class="line"><span class="lineno">   64</span>                chartDataset[keys[j]] = {index: j, value: values[j]};</div>
<div class="line"><span class="lineno">   65</span>                curSum += values[j];</div>
<div class="line"><span class="lineno">   66</span>            }</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>            <span class="comment">// Use an accessor to get value as pie data</span></div>
<div class="line"><span class="lineno">   69</span>            var pie = d3.pie().value((d) =&gt; d.value);</div>
<div class="line"><span class="lineno">   70</span>            var w = 400;</div>
<div class="line"><span class="lineno">   71</span>            var h = 400;</div>
<div class="line"><span class="lineno">   72</span>            var outerRadius = w / 2;</div>
<div class="line"><span class="lineno">   73</span>            var innerRadius = 0;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>            var arc = d3.arc()</div>
<div class="line"><span class="lineno">   76</span>                .innerRadius(innerRadius)</div>
<div class="line"><span class="lineno">   77</span>                .outerRadius(outerRadius);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>            <span class="comment">// Create SVG element</span></div>
<div class="line"><span class="lineno">   80</span>            var svg = d3.select(<span class="stringliteral">&#39;#modalPieChart&#39;</span>)</div>
<div class="line"><span class="lineno">   81</span>                .append(<span class="stringliteral">&#39;svg&#39;</span>)</div>
<div class="line"><span class="lineno">   82</span>                .attr(<span class="stringliteral">&#39;id&#39;</span>, <span class="stringliteral">&#39;pieChart&#39;</span>)</div>
<div class="line"><span class="lineno">   83</span>                .attr(<span class="stringliteral">&#39;width&#39;</span>, w)</div>
<div class="line"><span class="lineno">   84</span>                .attr(<span class="stringliteral">&#39;height&#39;</span>, h)</div>
<div class="line"><span class="lineno">   85</span>                .attr(<span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;modal-content&#39;</span>);</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>            <span class="comment">// Set up groups</span></div>
<div class="line"><span class="lineno">   88</span>            var arcs = svg.selectAll(<span class="stringliteral">&#39;g.arc&#39;</span>)</div>
<div class="line"><span class="lineno">   89</span>                .data(pie(Object.values(chartDataset)))</div>
<div class="line"><span class="lineno">   90</span>                .enter()</div>
<div class="line"><span class="lineno">   91</span>                .append(<span class="charliteral">&#39;g&#39;</span>)</div>
<div class="line"><span class="lineno">   92</span>                .attr(<span class="stringliteral">&#39;class&#39;</span>, <span class="stringliteral">&#39;arc&#39;</span>)</div>
<div class="line"><span class="lineno">   93</span>                .attr(<span class="stringliteral">&#39;transform&#39;</span>, <span class="stringliteral">&#39;translate(&#39;</span> + outerRadius + <span class="stringliteral">&#39;, &#39;</span> + outerRadius + <span class="charliteral">&#39;)&#39;</span>);</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>            var color = d3.scaleOrdinal(d3.schemeCategory10);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>            <span class="comment">// Draw arc paths</span></div>
<div class="line"><span class="lineno">   98</span>            arcs.append(<span class="stringliteral">&#39;path&#39;</span>)</div>
<div class="line"><span class="lineno">   99</span>                .attr(<span class="stringliteral">&#39;fill&#39;</span>, <span class="keyword">function</span> (d, i) {</div>
<div class="line"><span class="lineno">  100</span>                    <span class="keywordflow">return</span> color(i);</div>
<div class="line"><span class="lineno">  101</span>                })</div>
<div class="line"><span class="lineno">  102</span>                .attr(<span class="charliteral">&#39;d&#39;</span>, arc)</div>
<div class="line"><span class="lineno">  103</span>                .on(<span class="stringliteral">&#39;mouseover&#39;</span>, (event, d) =&gt; {</div>
<div class="line"><span class="lineno">  104</span>                    d3.select(event.currentTarget).style(<span class="stringliteral">&#39;opacity&#39;</span>, 0.7);</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>                    <span class="comment">// Get the mouse pointer&#39;s x/y page coords for the tooltip</span></div>
<div class="line"><span class="lineno">  107</span>                    var x = <span class="keyword">event</span>.pageX + 25;</div>
<div class="line"><span class="lineno">  108</span>                    var y = <span class="keyword">event</span>.pageY + 25;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>                    <span class="comment">// Update the tooltip position and contents</span></div>
<div class="line"><span class="lineno">  111</span>                    slicetip</div>
<div class="line"><span class="lineno">  112</span>                        .style(<span class="stringliteral">&#39;left&#39;</span>, x + <span class="stringliteral">&#39;px&#39;</span>)</div>
<div class="line"><span class="lineno">  113</span>                        .style(<span class="stringliteral">&#39;top&#39;</span>, y + <span class="stringliteral">&#39;px&#39;</span>)</div>
<div class="line"><span class="lineno">  114</span>                        .style(<span class="stringliteral">&#39;z-index&#39;</span>, 1);</div>
<div class="line"><span class="lineno">  115</span>                    slicetip</div>
<div class="line"><span class="lineno">  116</span>                        .select(<span class="stringliteral">&#39;#title&#39;</span>)</div>
<div class="line"><span class="lineno">  117</span>                        .text(title);</div>
<div class="line"><span class="lineno">  118</span>                    slicetip</div>
<div class="line"><span class="lineno">  119</span>                        .select(<span class="stringliteral">&#39;#key&#39;</span>)</div>
<div class="line"><span class="lineno">  120</span>                        .text(Object.keys(chartDataset)[d.data.index]);</div>
<div class="line"><span class="lineno">  121</span>                    slicetip</div>
<div class="line"><span class="lineno">  122</span>                        .select(<span class="stringliteral">&#39;#value&#39;</span>)</div>
<div class="line"><span class="lineno">  123</span>                        .text(Math.round(100 * d.value / dataSum) + <span class="stringliteral">&#39;%: &#39;</span> + d.value + <span class="charliteral">&#39;/&#39;</span> + dataSum);</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>                    <span class="comment">// Show the tooltip</span></div>
<div class="line"><span class="lineno">  126</span>                    slicetip.classed(<span class="stringliteral">&#39;hidden&#39;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  127</span>                })</div>
<div class="line"><span class="lineno">  128</span>                .on(<span class="stringliteral">&#39;mouseout&#39;</span>, (event) =&gt; {</div>
<div class="line"><span class="lineno">  129</span>                    d3.select(event.currentTarget)</div>
<div class="line"><span class="lineno">  130</span>                        .transition()</div>
<div class="line"><span class="lineno">  131</span>                        .duration(500)</div>
<div class="line"><span class="lineno">  132</span>                        .style(<span class="stringliteral">&#39;opacity&#39;</span>, 1);</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>                    <span class="comment">// Hide the tooltip</span></div>
<div class="line"><span class="lineno">  135</span>                    slicetip.classed(<span class="stringliteral">&#39;hidden&#39;</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  136</span>                });</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>            arcs.append(<span class="stringliteral">&#39;text&#39;</span>)</div>
<div class="line"><span class="lineno">  139</span>                .attr(<span class="stringliteral">&#39;transform&#39;</span>, <span class="keyword">function</span> (d) {</div>
<div class="line"><span class="lineno">  140</span>                    <span class="keywordflow">return</span> <span class="stringliteral">&#39;translate(&#39;</span> + arc.centroid(d) + <span class="charliteral">&#39;)&#39;</span>;</div>
<div class="line"><span class="lineno">  141</span>                })</div>
<div class="line"><span class="lineno">  142</span>                .attr(<span class="stringliteral">&#39;text-anchor&#39;</span>, <span class="stringliteral">&#39;middle&#39;</span>)</div>
<div class="line"><span class="lineno">  143</span>                .attr(<span class="stringliteral">&#39;font-weight&#39;</span>, <span class="stringliteral">&#39;bold&#39;</span>)</div>
<div class="line"><span class="lineno">  144</span>                .text(<span class="keyword">function</span> (d, i) {</div>
<div class="line"><span class="lineno">  145</span>                    <span class="keywordflow">return</span> (d.value / dataSum &gt; .05) ? Object.keys(chartDataset)[i] : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><span class="lineno">  146</span>                });</div>
<div class="line"><span class="lineno">  147</span>        };</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>        <span class="comment">// Get the &lt;span&gt; element that closes the modal</span></div>
<div class="line"><span class="lineno">  150</span>        var xbtn = document.getElementsByClassName(<span class="stringliteral">&#39;close&#39;</span>)[0];</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>        <span class="comment">// When the user clicks on the modal or &lt;span&gt; (x), close the modal</span></div>
<div class="line"><span class="lineno">  153</span>        <span class="keyword">function</span> close() {</div>
<div class="line"><span class="lineno">  154</span>            var chart = document.getElementById(<span class="stringliteral">&#39;pieChart&#39;</span>);</div>
<div class="line"><span class="lineno">  155</span>            <span class="comment">// This function is called twice, for both xbtn and modal</span></div>
<div class="line"><span class="lineno">  156</span>            <span class="keywordflow">if</span> (chart) {</div>
<div class="line"><span class="lineno">  157</span>                chart.parentNode.removeChild(chart);</div>
<div class="line"><span class="lineno">  158</span>                slicetip.classed(<span class="stringliteral">&#39;hidden&#39;</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  159</span>                modal.style.display = <span class="stringliteral">&#39;none&#39;</span>;</div>
<div class="line"><span class="lineno">  160</span>            }</div>
<div class="line"><span class="lineno">  161</span>        }</div>
<div class="line"><span class="lineno">  162</span>        xbtn.onclick = close;</div>
<div class="line"><span class="lineno">  163</span>        modal.onclick = close;</div>
<div class="line"><span class="lineno">  164</span>    &lt;/script&gt;</div>
<div class="line"><span class="lineno">  165</span>    &lt;?php</div>
<div class="line"><span class="lineno">  166</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa25c43be2349a68251baec561458f902" name="aa25c43be2349a68251baec561458f902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25c43be2349a68251baec561458f902">&#9670;&#160;</a></span>$StatsHelpMsg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$StatsHelpMsg</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code hl_function" href="view_8php.html#a249b79962f39cf1d037dfa8095060820">_HELPWINDOW</a>(<span class="stringliteral">&#39;This page displays statistical data collected over the log files of this module.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">You can change the date of statistics using drop-down boxes. An empty value means match-all. For example, if you choose 3 for month and empty value for day fields, the charts and lists display statistics for all the days in March. Choosing empty value for month means empty value for day field as well.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">For single dates, Horizontal chart direction is assumed. For date ranges, default graph style is Daily, and direction is Vertical. Graph style can be changed to Hourly for date ranges, where cumulative hourly statistics are shown. In Daily style, horizontal direction is not possible.&#39;</span>)</div>
<div class="ttc" id="aview_8php_html_a249b79962f39cf1d037dfa8095060820"><div class="ttname"><a href="view_8php.html#a249b79962f39cf1d037dfa8095060820">_HELPWINDOW</a></div><div class="ttdeci">_HELPWINDOW($str)</div><div class="ttdoc">For classifying gettext strings into files.</div><div class="ttdef"><b>Definition:</b> <a href="view_8php_source.html#l00668">view.php:668</a></div></div>
</div><!-- fragment -->
<p>Main help box used on all statistics pages. </p>

<p class="definition">Definition at line <a class="el" href="lib_2stats_8php_source.html#l00193">193</a> of file <a class="el" href="lib_2stats_8php_source.html">stats.php</a>.</p>

</div>
</div>
<a id="ab2bd89b86acfa12bc53a9bc0e40f20fa" name="ab2bd89b86acfa12bc53a9bc0e40f20fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2bd89b86acfa12bc53a9bc0e40f20fa">&#9670;&#160;</a></span>$StatsWarningMsg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$StatsWarningMsg = <a class="el" href="view_8php.html#a4aa5270b4a28926a0ea160561a3ba51f">_NOTICE</a>('Analysis of statistical data may take a long time to process. Please be patient. Also note that <a class="el" href="ctlr_8php.html#abc2baa6b327386720a46de43cf272921">if</a> you refresh this page frequently, CPU <a class="el" href="tools_8inc.html#a585c262d16bad21a05af8804df8372b2">load</a> may increase considerably.')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stats page warning message. </p>

<p class="definition">Definition at line <a class="el" href="lib_2stats_8php_source.html#l00190">190</a> of file <a class="el" href="lib_2stats_8php_source.html">stats.php</a>.</p>

</div>
</div>
<a id="ad3721afc9816a0572176f35b69fd9a5b" name="ad3721afc9816a0572176f35b69fd9a5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3721afc9816a0572176f35b69fd9a5b">&#9670;&#160;</a></span>$Submenu</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Submenu = <a class="el" href="libauth_8php.html#aedf527ce631be6f841d63bc1b01a6c35">SetSubmenu</a>('general')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lib_2stats_8php_source.html#l00199">199</a> of file <a class="el" href="lib_2stats_8php_source.html">stats.php</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_7784d12364ef0ec21cd188ca9cb3a89c.html">View</a></li><li class="navelem"><a class="el" href="dir_3d8d19653935a420028f1a09cc863ca4.html">lib</a></li><li class="navelem"><a class="el" href="lib_2stats_8php.html">stats.php</a></li>
    <li class="footer">Generated on Sun Apr 30 2023 00:52:47 for PF Firewall by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
